# Local Path Planner (Lattice)

## 개요
격자 기반 후보 경로를 생성하고 최적 경로를 선택하는 노드입니다.

## 주요 기능
- 격자 기반 후보 경로 생성
- 장애물 회피를 위한 경로 선택
- 라이다 데이터 기반 충돌 검사
- 동적 장애물 대응
- 경로 부드러움 최적화
- 실시간 경로 업데이트

## 토픽
### 구독
- `/global_path` (nav_msgs/msg/Path): 전역 경로
- `/odom` (nav_msgs/msg/Odometry): 로봇의 위치 정보
- `/scan` (sensor_msgs/msg/LaserScan): 라이다 스캔 데이터

### 발행
- `/local_path` (nav_msgs/msg/Path): 선택된 지역 경로
- `/candidate_paths` (nav_msgs/msg/Path): 생성된 후보 경로들

## 주요 매개변수
- local_path_size: 15 (지역 경로 포인트 수)
- robot_radius: 0.3m (로봇 반경)
- num_paths: 7 (생성할 후보 경로 수)
- max_offset: 0.5m (최대 측면 간격)
- 경로 업데이트 주기: 50ms
- 충돌 검사 거리: 1.5 * robot_radius
- 경로 선택 가중치:
  - 장애물 거리: 1.0
  - 중앙 경로 거리: 1.0
  - 이전 경로 연속성: 0.5

## 알고리즘 상세
1. 경로 생성 과정
   - 현재 위치에서 가장 가까운 전역 경로 지점 찾기
   - 측면 오프셋 기반 후보 경로 생성
   - 장애물 충돌 검사
   - 최적 경로 선택
   - 경로 부드러움 최적화

2. 경로 선택 기준
   - 장애물과의 거리
   - 중앙 경로와의 거리
   - 이전 경로와의 연속성
   - 경로 부드러움
   - 동적 장애물 회피 능력

3. 성능 최적화
   - 효율적인 충돌 검사
   - 경로 캐싱
   - 실시간 경로 업데이트 